<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Deedra's Wheel of Christmas Time</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Space+Grotesk:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
  <body>
  <div class="start-menu" id="startMenu">
    <div class="start-card">
      <p class="eyebrow">Aes Sedai & Warder</p>
      <h2>Deedra & Ray</h2>
      <p class="lede">Spin the Wheel to weave omens, gather hearts, and answer prophecies. Reach five truths to unlock their shared vow beneath the falling snow.</p>
      <div class="start-actions">
        <button id="startGame" class="btn primary">Begin the Journey</button>
      </div>
    </div>
  </div>

  <div class="page">
    <button id="themeToggle" class="btn theme-toggle">Switch to Light</button>
    <header class="hero">
      <div class="title-block">
        <p class="eyebrow">For Deedra • Holiday Gift</p>
        <h1>Wheel of Christmas Bonds</h1>
        <p class="lede">Spin omens, earn gifts, and answer prophecies in a snowy Wheel of Time moment for Deedra and her Warder, Ray.</p>
        <p class="romance">Deedra, you are the calm light; Ray is the steady shield. Every turn of the Wheel is a wish for you.</p>
        <div class="hero-actions">
          <button id="startRun" class="btn primary">Start Journey</button>
          <button id="spinWheel" class="btn ghost" disabled>Spin the Wheel</button>
        </div>
        <p class="hint">Flow: Start → Spin the Wheel → Resolve the omen → Answer a prophecy when prompted. Reach 5 correct prophecies to unlock Ray’s ending.</p>
      </div>
      <div class="stats-card">
        <div class="stat">
          <span class="label">Score</span>
          <span id="scoreDisplay" class="value">0</span>
        </div>
        <div class="stat">
          <span class="label">Hearts</span>
          <span id="livesDisplay" class="value">3</span>
        </div>
        <div class="stat">
          <span class="label">Spins</span>
          <span id="timeDisplay" class="value">0s</span>
        </div>
        <div class="stat">
          <span class="label">Bonus</span>
          <span id="bonusDisplay" class="value">None</span>
        </div>
        <div class="stat">
          <span class="label">Prophecies</span>
          <span id="correctDisplay" class="value">0 / 5</span>
        </div>
        <button id="toggleAudio" class="btn tiny">SFX: On</button>
      </div>
    </header>

    <main class="layout">
      <section class="panel instructions">
        <h2>How to Play</h2>
        <ul>
          <li>Spin the Wheel of the White Tower—wedges grant score boosts, hearts, fireworks, shadow hits, or a prophecy to answer.</li>
          <li>Prophecy wedges open a quiz; correct answers count toward the five truths needed for the ending between Deedra (Aes Sedai) and Ray (Warder).</li>
          <li>Bonuses stack; hearts keep you safe from “Shadow” wedges that drain a life. Score for flair, hearts for safety.</li>
          <li>Use the light/dark toggle to pick your vibe; SFX toggle for subtle chimes.</li>
          <li>Turn-based flow: Spin → Resolve the omen → (If prophecy) Answer → Repeat.</li>
        </ul>
        <div class="lore">
          <p><strong>Wheel of Time vibe:</strong> Ajah colors, heron-mark blade tokens, White Tower snow, Trolloc masks for danger.</p>
          <p><strong>Holiday vibe:</strong> Northern lights gradient, warm gold ribbons, snowfall, and heart sparks for Deedra.</p>
        </div>
      </section>

      <section class="panel playfield">
        <canvas id="playfield" width="900" height="520"></canvas>
        <div class="overlay" id="overlay">
          <div id="message"></div>
          <button id="quizButton" class="btn secondary">Answer Prophecy Quiz</button>
        </div>
        <div class="cutscene" id="cutscene">
          <div class="cutscene-card">
          <p class="cutscene-eyebrow">Ray's Gift</p>
          <h3>End of This Turning</h3>
            <p class="cutscene-body">Snow settles over the White Tower. Deedra’s calm light meets Ray’s steadfast guard; Warder and Aes Sedai share a vow beneath the gilded sky.</p>
            <p class="cutscene-body">“In every turning,” Ray whispers, “I am your shield and your joy.” The Wheel spins on with warmth and love.</p>
            <p class="cutscene-body">Spin again if you want the magic to keep weaving.</p>
            <div class="cutscene-actions">
              <button id="restartButton" class="btn primary">Play Again</button>
            </div>
          </div>
        </div>
      </section>

      <section class="panel side">
        <h2>Wheel of Gifts</h2>
        <canvas id="wheelCanvas" width="260" height="260"></canvas>
        <p id="wheelResult" class="wheel-result">Spin to receive a bonus gift.</p>
        <h2>Quick Quiz</h2>
        <div id="quizZone" class="quiz">
          <p class="quiz-question">Answer after a run to channel more light.</p>
          <div id="quizOptions" class="quiz-options"></div>
        </div>
      </section>
    </main>
  </div>

  <script src="main.js"></script>
</body>
</html>
